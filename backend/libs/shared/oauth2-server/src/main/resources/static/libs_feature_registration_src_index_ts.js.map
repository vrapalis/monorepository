{"version":3,"file":"libs_feature_registration_src_index_ts.js","mappings":"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","sources":["./libs/feature/registration/src/index.ts","./libs/feature/registration/src/lib/containers/registration-cn.component.ts","./libs/feature/registration/src/lib/feature-registration.module.ts"],"sourcesContent":["export * from './lib/feature-registration.module';\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { SharedUtilAuthService, SharedUtilFormUtilService } from '@frontend/shared/util';\nimport { IUserRegistration } from '@frontend/shared/model';\nimport { Store } from '@ngrx/store';\nimport { IUserState, REGISTRATION_ACTION, REGISTRATION_CODE_ACTION } from '@frontend/state';\nimport { ActivatedRoute } from '@angular/router';\nimport { filter, map, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'frontend-registration-cn',\n  template: `\n    <frontend-login-form-cn>\n      <form [formGroup]='form' (ngSubmit)='onSubmit()'>\n        <h1 class='col-12 fs-1 text-opacity-50 text-primary bi-person-plus'>\n          <span class='ms-2'>Registration</span>\n        </h1>\n\n        <mat-form-field appearance='outline' class='col-12 mt-4'>\n          <mat-label>Email</mat-label>\n          <input matInput type='email' placeholder='Email' formControlName='email'>\n          <mat-icon matSuffix>alternate_email</mat-icon>\n          <mat-error *ngIf=\"form.get('email')?.invalid\">{{fUtilService.getEmailErrorMessage(form)}}</mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance='outline' class='col-12 mt-3'>\n          <mat-label>Password</mat-label>\n          <input matInput type='password' placeholder='Password' formControlName='password'>\n          <mat-icon matSuffix>password</mat-icon>\n          <mat-error *ngIf=\"form.get('password')?.invalid\">{{fUtilService.getPasswordErrorMessage(form)}}</mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance='outline' class='col-12 mt-3'>\n          <mat-label>Password</mat-label>\n          <input matInput type='password' placeholder='Password Repeated' formControlName='passwordRepeated'>\n          <mat-icon matSuffix>password</mat-icon>\n          <mat-error *ngIf=\"form.get('password')?.invalid\">{{fUtilService.getPasswordErrorMessage(form)}}</mat-error>\n        </mat-form-field>\n\n        <div class='row col-12 mt-3 justify-content-end'>\n          <a mat-button color='primary' routerLink='/login' matTooltip='Navigate to login page' class='col-4 col-lg-2'>Login</a>\n          <button mat-raised-button color='primary' class='col-6 col-lg-3 ms-1' type='submit' [disabled]='isFormNotValid()'>\n            Submit\n          </button>\n        </div>\n      </form>\n    </frontend-login-form-cn>\n  `,\n  styles: []\n})\nexport class RegistrationCnComponent implements OnInit, OnDestroy {\n  form: FormGroup;\n  subscribeUntil$ = new Subject<void>();\n\n  constructor(private fb: FormBuilder, public fUtilService: SharedUtilFormUtilService,\n              private store: Store<IUserState>, private route: ActivatedRoute) {\n    this.form = this.fb.group({\n      email: ['', [Validators.email, Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(12)]],\n      passwordRepeated: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(12)]]\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.queryParams\n      .pipe(\n        filter(params => params.code),\n        map(params => params.code),\n        takeUntil(this.subscribeUntil$)\n      )\n      .subscribe(code => this.store.dispatch(REGISTRATION_CODE_ACTION({ code })));\n  }\n\n  onSubmit() {\n    const user = { ...this.form.value } as IUserRegistration;\n    this.store.dispatch(REGISTRATION_ACTION({ user }));\n  }\n\n  isFormNotValid() {\n    if (this.form.value.password.length >= 6) {\n      return !this.form?.valid || !(this.form?.value.password === this.form?.value.passwordRepeated);\n    } else {\n      return true;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscribeUntil$.next();\n    this.subscribeUntil$.complete();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { RegistrationCnComponent } from './containers/registration-cn.component';\nimport { SharedUiFormModule } from '@frontend/shared/ui';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    SharedUiFormModule,\n    RouterModule.forChild([\n      { path: '', pathMatch: 'full', component: RegistrationCnComponent }\n    ]),\n    MatFormFieldModule,\n    MatIconModule,\n    MatButtonModule,\n    MatInputModule,\n    MatTooltipModule\n  ],\n  declarations: [\n    RegistrationCnComponent\n  ]\n})\nexport class FeatureRegistrationModule {\n}\n"],"names":[],"sourceRoot":"webpack:///"}