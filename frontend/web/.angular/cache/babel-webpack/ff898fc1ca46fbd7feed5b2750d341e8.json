{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimeInterval = exports.timeInterval = void 0;\n\nvar async_1 = require(\"../scheduler/async\");\n\nvar scan_1 = require(\"./scan\");\n\nvar defer_1 = require(\"../observable/defer\");\n\nvar map_1 = require(\"./map\");\n\nfunction timeInterval(scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async_1.async;\n  }\n\n  return function (source) {\n    return defer_1.defer(function () {\n      return source.pipe(scan_1.scan(function (_a, value) {\n        var current = _a.current;\n        return {\n          value: value,\n          current: scheduler.now(),\n          last: current\n        };\n      }, {\n        current: scheduler.now(),\n        value: undefined,\n        last: undefined\n      }), map_1.map(function (_a) {\n        var current = _a.current,\n            last = _a.last,\n            value = _a.value;\n        return new TimeInterval(value, current - last);\n      }));\n    });\n  };\n}\n\nexports.timeInterval = timeInterval;\n\nvar TimeInterval = function () {\n  function TimeInterval(value, interval) {\n    this.value = value;\n    this.interval = interval;\n  }\n\n  return TimeInterval;\n}();\n\nexports.TimeInterval = TimeInterval;","map":{"version":3,"sources":["/home/vitali/Workspace/vrapalis/monorepository/frontend/web/node_modules/rxjs/dist/cjs/internal/operators/timeInterval.js"],"names":["Object","defineProperty","exports","value","TimeInterval","timeInterval","async_1","require","scan_1","defer_1","map_1","scheduler","async","source","defer","pipe","scan","_a","current","now","last","undefined","map","interval"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,YAAR,GAAuBF,OAAO,CAACG,YAAR,GAAuB,KAAK,CAAnD;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,oBAAD,CAArB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,qBAAD,CAArB;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,OAAD,CAAnB;;AACA,SAASF,YAAT,CAAsBM,SAAtB,EAAiC;AAC7B,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAGL,OAAO,CAACM,KAApB;AAA4B;;AACxD,SAAO,UAAUC,MAAV,EAAkB;AACrB,WAAOJ,OAAO,CAACK,KAAR,CAAc,YAAY;AAC7B,aAAOD,MAAM,CAACE,IAAP,CAAYP,MAAM,CAACQ,IAAP,CAAY,UAAUC,EAAV,EAAcd,KAAd,EAAqB;AAChD,YAAIe,OAAO,GAAGD,EAAE,CAACC,OAAjB;AACA,eAAQ;AAAEf,UAAAA,KAAK,EAAEA,KAAT;AAAgBe,UAAAA,OAAO,EAAEP,SAAS,CAACQ,GAAV,EAAzB;AAA0CC,UAAAA,IAAI,EAAEF;AAAhD,SAAR;AACH,OAHkB,EAGhB;AACCA,QAAAA,OAAO,EAAEP,SAAS,CAACQ,GAAV,EADV;AAEChB,QAAAA,KAAK,EAAEkB,SAFR;AAGCD,QAAAA,IAAI,EAAEC;AAHP,OAHgB,CAAZ,EAOHX,KAAK,CAACY,GAAN,CAAU,UAAUL,EAAV,EAAc;AACxB,YAAIC,OAAO,GAAGD,EAAE,CAACC,OAAjB;AAAA,YAA0BE,IAAI,GAAGH,EAAE,CAACG,IAApC;AAAA,YAA0CjB,KAAK,GAAGc,EAAE,CAACd,KAArD;AACA,eAAO,IAAIC,YAAJ,CAAiBD,KAAjB,EAAwBe,OAAO,GAAGE,IAAlC,CAAP;AACH,OAHG,CAPG,CAAP;AAWH,KAZM,CAAP;AAaH,GAdD;AAeH;;AACDlB,OAAO,CAACG,YAAR,GAAuBA,YAAvB;;AACA,IAAID,YAAY,GAAI,YAAY;AAC5B,WAASA,YAAT,CAAsBD,KAAtB,EAA6BoB,QAA7B,EAAuC;AACnC,SAAKpB,KAAL,GAAaA,KAAb;AACA,SAAKoB,QAAL,GAAgBA,QAAhB;AACH;;AACD,SAAOnB,YAAP;AACH,CANmB,EAApB;;AAOAF,OAAO,CAACE,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeInterval = exports.timeInterval = void 0;\nvar async_1 = require(\"../scheduler/async\");\nvar scan_1 = require(\"./scan\");\nvar defer_1 = require(\"../observable/defer\");\nvar map_1 = require(\"./map\");\nfunction timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) {\n        return defer_1.defer(function () {\n            return source.pipe(scan_1.scan(function (_a, value) {\n                var current = _a.current;\n                return ({ value: value, current: scheduler.now(), last: current });\n            }, {\n                current: scheduler.now(),\n                value: undefined,\n                last: undefined,\n            }), map_1.map(function (_a) {\n                var current = _a.current, last = _a.last, value = _a.value;\n                return new TimeInterval(value, current - last);\n            }));\n        });\n    };\n}\nexports.timeInterval = timeInterval;\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexports.TimeInterval = TimeInterval;\n"]},"metadata":{},"sourceType":"script"}